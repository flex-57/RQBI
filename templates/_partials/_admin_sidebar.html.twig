<div class="fixed top-0 left-0 h-full z-150">
    <button @click="$store.admin.toggle()"
            class="bg-teal-700 text-white p-2 rounded-r-lg hover:bg-teal-800 transition transform hover:scale-105">
        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
        </svg>
    </button>

    <div x-show="$store.admin.sidebarOpen"
         class="bg-gray-900 text-white w-64 h-full p-6 shadow-2xl overflow-y-auto transition">

        {# Titre #}
        <h2 class="text-2xl font-bold text-teal-300 mb-6 pb-4 border-b border-teal-700">
            Administration
        </h2>

        {# Boutons contextuels #}
        {% if page is defined %}
            <div class="space-y-3 mb-6">
                <a href="{{ path('app_page_add', {parent: page.id}) }}"
                   class="block bg-teal-600 hover:bg-teal-700 px-4 py-3 rounded-lg transition transform hover:translate-x-1 shadow">
                    <div class="flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                        </svg>
                        Ajouter une page enfant
                    </div>
                </a>

                <a href="{{ path('app_block_add', {id: page.id}) }}"
                   class="block bg-emerald-600 hover:bg-emerald-700 px-4 py-3 rounded-lg transition transform hover:translate-x-1 shadow">
                    <div class="flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m8 4V5"/>
                        </svg>
                        Ajouter un bloc
                    </div>
                </a>

                <a href="{{ path('app_page_edit', {id: page.id}) }}"
                   class="block bg-amber-600 hover:bg-amber-700 px-4 py-3 rounded-lg transition transform hover:translate-x-1 shadow">
                    <div class="flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                        </svg>
                        Ã‰diter cette page
                    </div>
                </a>
            </div>
        {% endif %}

        {# Actions globales #}
        <div class="space-y-3">
            <a href="{{ path('app_page_add') }}"
               class="block bg-gray-700 hover:bg-gray-600 px-4 py-3 rounded-lg transition transform hover:translate-x-1 shadow">
                <div class="flex items-center">
                    <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                    </svg>
                    Nouvelle page racine
                </div>
            </a>
        </div>
    </div>
</div>
